{% extends "layouts/layout.html" %}
{% block page_title %}WRA Prototype Kit index{% endblock %}

{% block headEnd %}
<script src="https://unpkg.com/maplibre-gl@1.14.0-rc.1/dist/maplibre-gl.js"></script>
<link href="https://unpkg.com/maplibre-gl@1.14.0-rc.1/dist/maplibre-gl.css" rel="stylesheet" />
{% endblock headEnd %}

{% block content %}
<main id="content" role="main">

  <span class="app-caption wra-!-margin-top-9">Pinpoint a location</span>
  <h1 class="h1-sm-and-up">Find your local authority</h1>

  <div class="row">
    <div class="col-lg-8">
      <p>Select your location by clicking on the map. A marker will appear where you have clicked on the map.</p>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-8">
      <div id="mapId" style="min-height: 600px;" data-module="wra-map"></div>
    </div>
    <div class="col-lg-4">
      <div class="app-information-panel">
        <h2 class="wra-!-margin-top-0 wra-!-margin-bottom-3">Location details</h2>
        <dl>
          <div class="app-dl-item">
            <dt>Latitude</dt>
            <dd class="app-dynamic-latitude app-no-value">No location selected</dd>
          </div>
          <div class="app-dl-item">
            <dt>Longitude</dt>
            <dd class="app-dynamic-longitude app-no-value">No location selected</dd>
          </div>
          <div class="app-dl-item">
            <dt>Local authority</dt>
            <dd class="app-dynamic-la-name app-no-value"></dd>
          </div>
          <div class="app-dl-item">
            <dt>Tax rate</dt>
            <dd class="app-no-value"></dd>
          </div>
        </dl>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-8">
      <hr class="app-break-xl" />
      <p>This proof of concept uses <a href="https://datamap.gov.wales/layergroups/inspire-wg:LocalAuthorities">local authority boundaries</a> from <a href="https://datamap.gov.wales/">DataMapWales</a>.</p>
      <p>We converted the coordinates from eastings and northings to wgs84 so that we could display the boundaries on the map.</p>
      <a href="/static/data/la_boundaries_wgs84.geojson" class="app-btn wra-!-margin-top-3">Download the geojson</a>
    </div>
  </div>
</main>
{% endblock %}

{% block pageScripts %}
<script src="/static/javascripts/la-map.js"></script>
{% endblock pageScripts %}
